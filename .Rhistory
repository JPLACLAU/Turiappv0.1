# Busco la encuesta Previa
rawdatajpl <- read.xlsx("https://sites.google.com/site/jeanpaullaclau/biografia/ultimarawdataJPLv1_7.xlsx?attredirects=0&d=1", sheetName ="rawdatajpl")
library(rJava)
library(xlsxjars)
library(xlsx)
# Busco la encuesta Previa
rawdatajpl <- read.xlsx("https://sites.google.com/site/jeanpaullaclau/biografia/ultimarawdataJPLv1_7.xlsx?attredirects=0&d=1", sheetName ="rawdatajpl")
install.packages("googlesheets")
library(googlesheets)
gs_ls()
?googlesheet
library(dplyr)
gap <- gs_title("Gapminder")
# Need to access a sheet you do not own but you have a sharing link?
# Access it by URL!
GAP_URL <- gs_gap_url("https://docs.google.com/spreadsheets/d/19dhV2_n6G0lu4UwkYpukbQOXawKN4ZR0v_G8xvD8frM/edit?usp=sharing")
# Need to access a sheet you do not own but you have a sharing link?
# Access it by URL!
GAP_URL <- gs_gap_url(https://docs.google.com/spreadsheets/d/19dhV2_n6G0lu4UwkYpukbQOXawKN4ZR0v_G8xvD8frM/edit?usp=sharing)
gs_read_csv("https://docs.google.com/spreadsheets/d/19dhV2_n6G0lu4UwkYpukbQOXawKN4ZR0v_G8xvD8frM/edit?usp=sharing")
install.packages('gsheet')
library(gsheet)
gsheet2tbl('docs.google.com/spreadsheets/d/19dhV2_n6G0lu4UwkYpukbQOXawKN4ZR0v_G8xvD8frM/edit?usp=sharing')
?gsheet
g <-gsheet2tbl('docs.google.com/spreadsheets/d/19dhV2_n6G0lu4UwkYpukbQOXawKN4ZR0v_G8xvD8frM/edit?usp=sharing')
View(g)
??gsheet2tbl
url <-'docs.google.com/spreadsheets/d/19dhV2_n6G0lu4UwkYpukbQOXawKN4ZR0v_G8xvD8frM/edit?usp=sharing'
if(requireNamespace('readr', quietly=TRUE)){
library(readr)
read_csv(construct_download_url(url), col_types = cols(
mpg = col_double(),
cyl = col_integer(),
disp = col_double(),
hp = col_integer(),
drat = col_double(),
wt = col_double(),
qsec = col_double(),
vs = col_integer(),
am = col_integer(),
gear = col_integer(),
carb = col_integer()
))
}
library(readr)
url <-'docs.google.com/spreadsheets/d/19dhV2_n6G0lu4UwkYpukbQOXawKN4ZR0v_G8xvD8frM/edit?usp=sharing'
read.csv(text=gsheet2text(url, format='csv'), stringsAsFactors=FALSE)
g <-read.csv(text=gsheet2text(url, format='csv'), stringsAsFactors=FALSE)
e <-read.csv(text=gsheet2text(url, format='csv'), stringsAsFactors=FALSE)
View(e)
View(g)
View(e)
?read.csv
urlTuempresa1 <- 'docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing'
urlTuempresa2 <- 'docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing'
Tuempresa1 <-read.csv(text=gsheet2text(urlTuempresa1, format='csv'), stringsAsFactors=FALSE)
Tuempresa2 <-read.csv(text=gsheet2text(urlTuempresa2, format='csv'), stringsAsFactors=FALSE)
urlTuempresa2 <- 'docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing'
Tuempresa2 <-read.csv(text=gsheet2text(urlTuempresa2, format='csv'), stringsAsFactors=FALSE)
urlTuempresa1 <- 'docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing'
urlTuempresa2 <- 'docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing'
Tuempresa1 <-read.csv(text=gsheet2text(urlTuempresa1, format='csv'), stringsAsFactors=FALSE)
Tuempresa2 <-read.csv(text=gsheet2text(urlTuempresa2, format='csv'), stringsAsFactors=FALSE)
Tuempresa2 <-read.csv(text=gsheet2text(urlTuempresa2, format='csv'), stringsAsFactors=FALSE)
View(Tuempresa1)
View(Tuempresa2)
Tue1 <-read.csv(text=gsheet2text(urlTuempresa1, format='csv'), stringsAsFactors=FALSE)
Tue2 <-read.csv(text=gsheet2text(urlTuempresa2, format='csv'), stringsAsFactors=FALSE)
View(Tue1)
g <-gsheet2tbl('docs.google.com/spreadsheets/d/19dhV2_n6G0lu4UwkYpukbQOXawKN4ZR0v_G8xvD8frM/edit?usp=sharing')
View(g)
Tue1 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing')
View(Tue1)
Tue2 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing')
View(Tue2)
library(dplyr)
c <- lef_join(Tue1, Tue2, by = [2])
c <- lef_join(Tue1, Tue2, by = c[2])
?dplyr
library(tidyr)
c <- lef_join(Tue1, Tue2, by = c[2])
c <- left_join(Tue1, Tue2, by = c[2])
Tue1 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing')
Tue2 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing')
c <- left_join(Tue1, Tue2, by = c[2])
View(Tue1)
c <- left_join(Tue1, Tue2, by = "Email Address")
View(c)
Tue1 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing')
Tue2 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing')
View(Tue1)
View(Tue2)
c <- left_join(Tue1, Tue2, by = "Email Address")
View(c)
Tue1y2 <- left_join(Tue1, Tue2, by = "Email Address")
View(Tue1y2)
###########
# Promedios de PRE para cada individuo
media <- rowMeans(Tue1y2[,c(3, 4, 5, 6)], na.rm=TRUE)    #CON
mediaPRECON <-as.data.frame(media)
mediaPRECON[["tipo"]] <- "1 CONOCIMIENTO"
mediaPRECON[["encuesta"]] <- "PREVIA"
mediaPRECON[["CategriaCA"]] <- "CONOCIMIENTO"
View(mediaPRECON)
media <- rowMeans(rawdatajpl45[,c(7:15)], na.rm=TRUE)      #INT
media <- rowMeans(Tue1y2[,c(7:15)], na.rm=TRUE)      #INT
mediaPREINT <-as.data.frame(media)
mediaPREINT[["tipo"]] <- "1 ACCIONES"
mediaPREINT[["encuesta"]] <- "PREVIA"
mediaPREINT[["CategriaCA"]] <- "ACCIONES"
View(mediaPREINT)
mediaPRECON[["encuesta"]] <- "PREVIA"
###########
# Promedios de PRE para cada individuo
media <- rowMeans(Tue1y2[,c(3, 4, 5, 6)], na.rm=TRUE)    #CON
###########
# Promedios de PRE para cada individuo
media <- rowMeans(Tue1y2[,c(3:6)], na.rm=TRUE)    #CON
###########
# Promedios de PRE para cada individuo
media <- rowMeans(Tue1y2[,c(3:6)], na.rm=TRUE)    #CON
mediaPRECON <-as.data.frame(media)
mediaPRECON[["tipo"]] <- "1 CONOCIMIENTO"
mediaPRECON[["encuesta"]] <- "PREVIA"
mediaPRECON[["CategriaCA"]] <- "CONOCIMIENTO"
media <- rowMeans(Tue1y2[,c(7:15)], na.rm=TRUE)      #ACCIONES
mediaPREACC <-as.data.frame(media)
mediaPREACC[["tipo"]] <- "2 ACCIONES"
mediaPREACC[["encuesta"]] <- "PREVIA"
mediaPREACC[["CategriaCA"]] <- "ACCIONES"
# Promedios de ONL para cada individuo
media <- rowMeans(Tue1y2[,c(17:20)], na.rm=TRUE)      #CON
mediaONLCON <-as.data.frame(media)
mediaONLCON[["tipo"]] <- "3 CONOCIMIENTO"
mediaONLCON[["encuesta"]] <- "POSTERIOR"
mediaONLCON[["CategriaCA"]] <- "CON"
media <- rowMeans(rawdatajpl45[,c(21:29)], na.rm=TRUE)      #ACCIONES
mediaONLACC <-as.data.frame(media)
mediaONLACC[["tipo"]] <- "4 ACCIONES"
media <- rowMeans(Tue1y2[,c(21:29)], na.rm=TRUE)      #ACCIONES
mediaONLACC <-as.data.frame(media)
mediaONLACC[["tipo"]] <- "4 ACCIONES"
mediaONLACC[["encuesta"]] <- "POSTERIOR"
mediaONLACC[["CategriaCA"]] <- "ACCIONES"
mediaCA <- rbind(mediaPRECON,mediaPREACC,mediaONLCON,mediaONLACC)
BoxmediaCA <- ggplot(mediaCA, aes(x=tipo, y=media,fill=encuesta)) +
geom_boxplot() +
theme(legend.position="top")
library(ggplot2)
mediaCA <- rbind(mediaPRECON,mediaPREACC,mediaONLCON,mediaONLACC)
BoxmediaCA <- ggplot(mediaCA, aes(x=tipo, y=media,fill=encuesta)) +
geom_boxplot() +
theme(legend.position="top")
BoxmediaCA  # Graficos de cajas final PRE vs ONL
#################################
#                               #
# La union de las dos encuestas #
#                               #
#################################
library(dplyr)
library(tidyr)
install.packages('gsheet')
library(gsheet)
Tue1 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing')
Tue2 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing')
Tue1y2 <- left_join(Tue1, Tue2, by = "Email Address")
###########
# Promedios de PRE para cada individuo
media <- rowMeans(Tue1y2[,c(3:6)], na.rm=TRUE)    #CON
mediaPRECON <-as.data.frame(media)
mediaPRECON[["tipo"]] <- "1 CONOCIMIENTO"
mediaPRECON[["encuesta"]] <- "PREVIA"
mediaPRECON[["CategriaCA"]] <- "CONOCIMIENTO"
media <- rowMeans(Tue1y2[,c(7:15)], na.rm=TRUE)      #ACCIONES
mediaPREACC <-as.data.frame(media)
mediaPREACC[["tipo"]] <- "2 ACCIONES"
mediaPREACC[["encuesta"]] <- "PREVIA"
mediaPREACC[["CategriaCA"]] <- "ACCIONES"
# Promedios de ONL para cada individuo
media <- rowMeans(Tue1y2[,c(17:20)], na.rm=TRUE)      #CON
mediaONLCON <-as.data.frame(media)
mediaONLCON[["tipo"]] <- "3 CONOCIMIENTO"
mediaONLCON[["encuesta"]] <- "POSTERIOR"
mediaONLCON[["CategriaCA"]] <- "CON"
media <- rowMeans(Tue1y2[,c(21:29)], na.rm=TRUE)      #ACCIONES
mediaONLACC <-as.data.frame(media)
mediaONLACC[["tipo"]] <- "4 ACCIONES"
mediaONLACC[["encuesta"]] <- "POSTERIOR"
mediaONLACC[["CategriaCA"]] <- "ACCIONES"
library(ggplot2)
mediaCA <- rbind(mediaPRECON,mediaPREACC,mediaONLCON,mediaONLACC)
BoxmediaCA <- ggplot(mediaCA, aes(x=tipo, y=media,fill=encuesta)) +
geom_boxplot() +
theme(legend.position="top")
BoxmediaCA  # Graficos de cajas final PRE vs ONL
library(shiny)
library(dplyr)
library(tidyr)
library(gsheet)
Tue1 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing')
Tue2 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing')
Tue1y2 <- left_join(Tue1, Tue2, by = "Email Address")
###########
# Promedios de PRE para cada individuo
media <- rowMeans(Tue1y2[,c(3:6)], na.rm=TRUE)    #CON
mediaPRECON <-as.data.frame(media)
mediaPRECON[["tipo"]] <- "1 CONOCIMIENTO"
mediaPRECON[["encuesta"]] <- "PREVIA"
mediaPRECON[["CategriaCA"]] <- "CONOCIMIENTO"
media <- rowMeans(Tue1y2[,c(7:15)], na.rm=TRUE)      #ACCIONES
mediaPREACC <-as.data.frame(media)
mediaPREACC[["tipo"]] <- "2 ACCIONES"
mediaPREACC[["encuesta"]] <- "PREVIA"
mediaPREACC[["CategriaCA"]] <- "ACCIONES"
# Promedios de ONL para cada individuo
media <- rowMeans(Tue1y2[,c(17:20)], na.rm=TRUE)      #CON
mediaONLCON <-as.data.frame(media)
mediaONLCON[["tipo"]] <- "3 CONOCIMIENTO"
mediaONLCON[["encuesta"]] <- "POSTERIOR"
mediaONLCON[["CategriaCA"]] <- "CON"
media <- rowMeans(Tue1y2[,c(21:29)], na.rm=TRUE)      #ACCIONES
mediaONLACC <-as.data.frame(media)
mediaONLACC[["tipo"]] <- "4 ACCIONES"
mediaONLACC[["encuesta"]] <- "POSTERIOR"
mediaONLACC[["CategriaCA"]] <- "ACCIONES"
library(ggplot2)
mediaCA <- rbind(mediaPRECON,mediaPREACC,mediaONLCON,mediaONLACC)
BoxmediaCA <- ggplot(mediaCA, aes(x=tipo, y=media,fill=encuesta)) +
geom_boxplot() +
theme(legend.position="top")
BoxmediaCA  # Graficos de cajas final PRE vs ONL
runApp('C:/JPL/Dropbox/TURIECO/shinywebapp/turitest')
runApp('C:/JPL/Dropbox/TURIECO/shinywebapp/turitest')
runApp('C:/JPL/Dropbox/TURIECO/shinywebapp/turitest')
runApp('C:/JPL/Dropbox/TURIECO/shinywebapp/turitest')
runApp('C:/JPL/Dropbox/TURIECO/shinywebapp/turitest')
#
# This is the server logic of a Shiny web application. You can run the
# application by clicking 'Run App' above.
#
# Find out more about building applications with Shiny here:
#
#    http://shiny.rstudio.com/
#
setwd("C:/JPL/Dropbox/TURIECO/Turiappv0.1")
runApp()
library {base}
Tue1 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing')
Tue2 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing')
View(Tue1)
install.packages(c("AppliedPredictiveModeling", "backports", "BH", "broom", "cairoDevice", "caret", "caTools", "checkmate", "cli", "clipr", "colorspace", "CORElearn", "curl", "CVST", "data.table", "ddalpha", "devtools", "digest", "dimRed", "dplyr", "e1071", "evaluate", "forecast", "Formula", "gbm", "ggplot2", "git2r", "glue", "googleVis", "highr", "htmlTable", "htmlwidgets", "httpuv", "httr", "installr", "ipred", "iterators", "jsonlite", "kernlab", "knitr", "later", "lattice", "lava", "leaflet", "markdown", "mime", "ModelMetrics", "modeltools", "munsell", "openssl", "ordinal", "packrat", "pgmm", "pillar", "pkgconfig", "plotly", "prodlim", "psych", "purrr", "quantmod", "R6", "raster", "rattle", "Rcpp", "RcppArmadillo", "RcppRoll", "RCurl", "recipes", "RGtk2", "RJSONIO", "rlang", "rmarkdown", "robustbase", "rpart.plot", "rsconnect", "rstudioapi", "sandwich", "scales", "sfsmisc", "shiny", "sp", "stringi", "stringr", "TH.data", "tibble", "tidyr", "tidyselect", "tseries", "TTR", "utf8", "vegan", "XML", "xtable", "xts", "yaml", "zoo"))
install.packages(c("AppliedPredictiveModeling", "backports", "BH", "broom", "cairoDevice", "caret", "caTools", "checkmate", "cli", "clipr", "colorspace", "CORElearn", "curl", "CVST", "data.table", "ddalpha", "devtools", "digest", "dimRed", "dplyr", "e1071", "evaluate", "forecast", "Formula", "gbm", "ggplot2", "git2r", "glue", "googleVis", "highr", "htmlTable", "htmlwidgets", "httpuv", "httr", "installr", "ipred", "iterators", "jsonlite", "kernlab", "knitr", "later", "lattice", "lava", "leaflet", "markdown", "mime", "ModelMetrics", "modeltools", "munsell", "openssl", "ordinal", "packrat", "pgmm", "pillar", "pkgconfig", "plotly", "prodlim", "psych", "purrr", "quantmod", "R6", "raster", "rattle", "Rcpp", "RcppArmadillo", "RcppRoll", "RCurl", "recipes", "RGtk2", "RJSONIO", "rlang", "rmarkdown", "robustbase", "rpart.plot", "rsconnect", "rstudioapi", "sandwich", "scales", "sfsmisc", "shiny", "sp", "stringi", "stringr", "TH.data", "tibble", "tidyr", "tidyselect", "tseries", "TTR", "utf8", "vegan", "XML", "xtable", "xts", "yaml", "zoo"))
install.packages(c("AppliedPredictiveModeling", "backports", "BH", "broom", "cairoDevice", "caret", "caTools", "checkmate", "cli", "clipr", "colorspace", "CORElearn", "curl", "CVST", "data.table", "ddalpha", "devtools", "digest", "dimRed", "dplyr", "e1071", "evaluate", "forecast", "Formula", "gbm", "ggplot2", "git2r", "glue", "googleVis", "highr", "htmlTable", "htmlwidgets", "httpuv", "httr", "installr", "ipred", "iterators", "jsonlite", "kernlab", "knitr", "later", "lattice", "lava", "leaflet", "markdown", "mime", "ModelMetrics", "modeltools", "munsell", "openssl", "ordinal", "packrat", "pgmm", "pillar", "pkgconfig", "plotly", "prodlim", "psych", "purrr", "quantmod", "R6", "raster", "rattle", "Rcpp", "RcppArmadillo", "RcppRoll", "RCurl", "recipes", "RGtk2", "RJSONIO", "rlang", "rmarkdown", "robustbase", "rpart.plot", "rsconnect", "rstudioapi", "sandwich", "scales", "sfsmisc", "shiny", "sp", "stringi", "stringr", "TH.data", "tibble", "tidyr", "tidyselect", "tseries", "TTR", "utf8", "vegan", "XML", "xtable", "xts", "yaml", "zoo"))
#Otra forma
url1 <- 'docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing'
a1 <- gsheet2text(url, format='csv')
library(gsheet)
a1 <- gsheet2text(url, format='csv')
a1 <- gsheet2text(url, format='csv')
?gsheet2text
a1 <- gsheet2text(url)
testin("readr")
testin <- function(package){
if (!package %in% installed.packages()) {
message( "Instalando ", package)
install.packages(package)
print("paquete instalado")}
else {
message(" El paquete ", package, " ya se encontraba instalado.")}
}
testin("readr")
testin("readr")
library(readr)
library(shiny)
library(dplyr)
library(tidyr)
library(gsheet)
Tue1 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing')
Tue2 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing')
Tue1y2 <- left_join(Tue1, Tue2, by = "Email Address")
library(readr)
library(shiny)
library(dplyr)
library(tidyr)
testin("dplyr")
install.packages("rlang")
install.packages("rlang")
install.packages("yaml")
install.packages("rlang")
install.packages("rlang")
install.packages("dyplr")
install.packages("dyplr",repos='http://cran.us.r-project.org')
version()
sesion()
session()
testin("log4r")
library(log4r)
loggerDebug <- create.logger()
logfile(loggerDebug) <- 'data/debugData.log'
level(loggerDebug) <- 'INFO'
loggerServer <- create.logger()
logfile(loggerServer) <- 'data/serverData.log'
level(loggerServer) <- 'INFO'
shiny::runApp()
dasd
runApp()
runApp()
testin("tidyverse")
library(tidyverse)
testin("scales")
library(tidyverse)
testin("colorspace")
library(tidyverse)
library(gsheet)
Tue1 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NPsqPnZGQDIwfscXwx36ZWeiF6CCEAgquN5juL3zB44/edit?usp=sharing')
Tue2 <-gsheet2tbl('docs.google.com/spreadsheets/d/1NswTR9EO-bxNcWOFsOF8eM-GiulCtf6MBh48VGzF614/edit?usp=sharing')
Tue1y2 <- left_join(Tue1, Tue2, by = "Email.Address")
Tue1y2 <- left_join(Tue1, Tue2, by = "Email Address")
